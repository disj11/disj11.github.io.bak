<?xml version="1.0" encoding="utf-8"?>

<feed xmlns="http://www.w3.org/2005/Atom" >
  <generator uri="https://jekyllrb.com/" version="3.7.4">Jekyll</generator>
  <link href="https://disj11.github.io/tag/ffmpeg/feed.xml" rel="self" type="application/atom+xml" />
  <link href="https://disj11.github.io/" rel="alternate" type="text/html" />
  <updated>2020-07-24T00:44:27+00:00</updated>
  <id>https://disj11.github.io/tag/ffmpeg/feed.xml</id>

  
  
  

  
    <title type="html">Life Log | </title>
  

  
    <subtitle>Record my life</subtitle>
  

  

  
    
      
    
  

  
  

  
    <entry>
      <title type="html">FFmpeg를 사용하여 동영상 합치기</title>
      <link href="https://disj11.github.io/concatenate-videos-using-ffmpeg" rel="alternate" type="text/html" title="FFmpeg를 사용하여 동영상 합치기" />
      <published>2020-07-23T19:30:00+00:00</published>
      <updated>2020-07-23T19:30:00+00:00</updated>
      <id>https://disj11.github.io/concatenate-videos-using-ffmpeg</id>
      <content type="html" xml:base="https://disj11.github.io/concatenate-videos-using-ffmpeg">&lt;h3 id=&quot;소개&quot;&gt;소개&lt;/h3&gt;
&lt;p&gt;FFmpeg를 사용하여 동영상을 합치는 방법을 소개&lt;/p&gt;

&lt;h3 id=&quot;방법&quot;&gt;방법&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;concat demuxer
    &lt;ul&gt;
      &lt;li&gt;트랜스 코딩을 피하므로 매우 빠름&lt;/li&gt;
      &lt;li&gt;동영상의 비디오 및 오디오 인코딩이 모두 동일한 경우에만 작동&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;file level concatenation
    &lt;ul&gt;
      &lt;li&gt;이 방법을 사용할 수 있는 인코딩은 거의 없음 (MPEG-2 Transport Stream codec (.ts)일때에만 사용 가능)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;complex filtergraph with the concat filter
    &lt;ul&gt;
      &lt;li&gt;다른 방식으로 인코딩된 동영상을 합칠때 사용 가능&lt;/li&gt;
      &lt;li&gt;트랜스코딩이 발생하므로 품질이 저하되고, 느릴 수 있음&lt;/li&gt;
      &lt;li&gt;문법을 이해하기가 힘듦&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;예제&quot;&gt;예제&lt;/h3&gt;
&lt;p&gt;concat demuxer:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ffmpeg -f concat -i list.txt -c copy out.mp4
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;대부분의 ffmpeg 며령광 달리 이 명령은 연결하려는 동영상을 텍스트 파일에서 가져옴.
텍스트 파일은 다음과 같음&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;file 'video1.mp4'
file 'video2.mp4'
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;file level concatenation:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ffmpeg -i &quot;concat:video1.ts|video2.ts&quot; -c copy out.ts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;complex filtergraph with the concat filter:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ffmpeg -i video1.mp4 -i video2.flv -filter_complex \
&quot;[0:v][0:a][1:v][1:a] concat=n=2:v=1:a=1 [outv] [outa]&quot; \
-map &quot;[outv]&quot; -map &quot;[outa]&quot; out.mp4
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;의미를 하나씩 해석해보자.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;[0:v][0:a][1:v][1:a]&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;[index_of_input : stream_type]&lt;/p&gt;

&lt;p&gt;첫 번째 입력 소스의 비디오 스트림, 첫 번째 입력 소스의 오디오 스트림, 두 번째 입력 소스의 비디오 스트림, 두 번째 입력 소스의 오디오 스트림을 사용&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;concat=n=2:v=1:a=1&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;concat&lt;/code&gt;: 필터의 이름&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;n=2&lt;/code&gt;: 두 개의 입력 소스가 있음을 지정&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;v=1&lt;/code&gt;: 출력 비디오 스트림의 수가 하나라고 설정&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;a=1&lt;/code&gt;: 출력 오디오 스트림의 수가 하나라고 설정&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;[outv] [outa]&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;필터로 만든 데이터 스트림에 레이블을 지정함.&lt;br /&gt;
나중에 나올 &lt;code class=&quot;highlighter-rouge&quot;&gt;-map&lt;/code&gt; 에서 필요&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;-map &quot;[outv]&quot;-map &quot;[outa]&quot;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;입력 파일에서 스트림을 사용하지 말고, 대신 필터 그래프에서 생성한 데이터 스트림을 사용하도록 지정&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://ffmpeg.org/ffmpeg-filters.html#concat&quot; target=&quot;_blank&quot;&gt;concat 필터 문서 참조&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;참고-사이트&quot;&gt;참고 사이트&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://dev.to/dak425/concatenate-videos-together-using-ffmpeg-2gg1&quot; target=&quot;_blank&quot;&gt;https://dev.to/dak425/concatenate-videos-together-using-ffmpeg-2gg1&lt;/a&gt;&lt;/p&gt;</content>

      
      
      
      
      

      <author>
          <name>Saturday</name>
        
        
      </author>

      

      
        <category term="ffmpeg" />
      

      
        <summary type="html">소개 FFmpeg를 사용하여 동영상을 합치는 방법을 소개</summary>
      

      
      
    </entry>
  
</feed>
